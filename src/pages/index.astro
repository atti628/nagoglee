---
// src/pages/index.astro
import { getNews } from "../library/microcms";

// MicroCMSから記事を取得
const response = await getNews({ fields: ["id", "title", "content", 
"createdAt"] });
const newsList = response.contents;
---

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>Nagogree 公式サイト</title>
  </head>
  <body>
    <main style="max-width: 800px; margin: 0 auto; padding: 20px;">
      <h1>お知らせ</h1>
      <ul>
        {
          newsList.map((news) => (
            <li style="margin-bottom: 20px; border-bottom: 1px solid #ccc; 
padding-bottom: 20px;">
              <h2>{news.title}</h2>
              <p style="color: #666; font-size: 0.9em;">
                {new Date(news.createdAt).toLocaleDateString("ja-JP")}
              </p>
              
              {/* リッチエディタのHTMLを表示するタグ */}
              <div set:html={news.content} />
            </li>
          ))
        }
      </ul>
    </main>
  </body>
</html>
